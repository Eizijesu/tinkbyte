---
// src/components/profile/ProfileHeader.astro
---

<div class="profile-header">
  <div class="profile-header-content">
    <!-- Avatar Section -->
    <div class="avatar-section">
      <div class="avatar-container">
        <img
          id="user-avatar"
          src="/images/default-avatar.svg"
          alt="User Avatar"
          class="user-avatar"
        />
        <button
          class="avatar-edit-btn"
          id="edit-avatar"
          aria-label="Change avatar"
        >
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
            ></path>
            <path d="m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
            ></path>
          </svg>
        </button>
      </div>
    </div>

    <!-- User Info -->
    <div class="user-info">
      <div class="user-identity">
        <h1 class="user-name" id="user-display-name">Loading...</h1>
        <div class="user-meta">
          <span class="user-id" id="user-id">#TB000000</span>
          <span class="membership-badge" id="membership-badge">Free</span>
        </div>
        <p class="member-since" id="member-since">Member since January, 2025</p>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <button class="action-btn primary" id="edit-profile">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"
            ></path>
            <path d="m18.5 2.5 a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
            ></path>
          </svg>
          Edit Profile
        </button>
        <button class="action-btn secondary" id="view-public">
          <svg
            width="16"
            height="16"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
            <circle cx="12" cy="12" r="3"></circle>
          </svg>
          View Public Profile
        </button>
      </div>
    </div>
  </div>
</div>

<style>
  .profile-header {
    background: white;
    border: 2px solid #e2e8f0;
    padding: 2rem;
    font-family: "Space Grotesk", sans-serif;
  }

  :global(.dark) .profile-header {
    background: rgb(17, 24, 39);
    border-color: rgb(51, 65, 85);
  }

  .profile-header-content {
    display: flex;
    gap: 2rem;
    align-items: flex-start;
  }

  .avatar-section {
    flex-shrink: 0;
  }

  .avatar-container {
    position: relative;
    width: 120px;
    height: 120px;
  }

  .user-avatar {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border: 3px solid #243788;
    background: #f8fafc;
  }

  :global(.dark) .user-avatar {
    border-color: #b4bce1;
    background: rgb(30, 41, 59);
  }

  .avatar-edit-btn {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 36px;
    height: 36px;
    background: #243788;
    color: white;
    border: 2px solid white;
    border-radius: 0;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s ease;
  }

  .avatar-edit-btn:hover {
    background: #1e2d6b;
    transform: translateY(-2px);
  }

  :global(.dark) .avatar-edit-btn {
    border-color: rgb(17, 24, 39);
  }

  .user-info {
    flex: 1;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
  }

  .user-identity {
    flex: 1;
  }

  .user-name {
    font-size: 2rem;
    font-weight: 700;
    color: #243788;
    margin: 0 0 0.5rem 0;
    line-height: 1.2;
  }

  :global(.dark) .user-name {
    color: rgb(248, 250, 252);
  }

  .user-meta {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
  }

  .user-id {
    font-family: "Space Grotesk", monospace;
    font-size: 0.875rem;
    color: #64748b;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  :global(.dark) .user-id {
    color: rgb(148, 163, 184);
  }

  .membership-badge {
    background: #243788;
    color: white;
    padding: 0.25rem 0.75rem;
    font-size: 0.75rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .membership-badge.pro {
    background: linear-gradient(135deg, #f59e0b, #d97706);
  }

  .member-since {
    color: #64748b;
    font-size: 0.875rem;
    margin: 0;
    font-weight: 500;
  }

  :global(.dark) .member-since {
    color: rgb(148, 163, 184);
  }

  .quick-actions {
    display: flex;
    gap: 0.75rem;
    flex-shrink: 0;
  }

  .action-btn {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.75rem 1.25rem;
    border: 2px solid;
    border-radius: 0;
    font-family: "Space Grotesk", sans-serif;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.025em;
    cursor: pointer;
    transition: all 0.2s ease;
  }

  .action-btn.primary {
    background: #243788;
    color: white;
    border-color: #243788;
  }

  .action-btn.primary:hover {
    background: white;
    color: #243788;
    transform: translateY(-2px);
  }

  .action-btn.secondary {
    background: transparent;
    color: #243788;
    border-color: #243788;
  }

  .action-btn.secondary:hover {
    background: #243788;
    color: white;
    transform: translateY(-2px);
  }

  :global(.dark) .action-btn.primary {
    background: #b4bce1;
    color: rgb(15, 23, 42);
    border-color: #b4bce1;
  }

  :global(.dark) .action-btn.primary:hover {
    background: transparent;
    color: #b4bce1;
  }

  :global(.dark) .action-btn.secondary {
    color: #b4bce1;
    border-color: #b4bce1;
  }

  :global(.dark) .action-btn.secondary:hover {
    background: #b4bce1;
    color: rgb(15, 23, 42);
  }

  @media (max-width: 768px) {
    .profile-header {
      padding: 1.5rem;
    }

    .profile-header-content {
      flex-direction: column;
      gap: 1.5rem;
      text-align: center;
    }

    .user-info {
      flex-direction: column;
      gap: 1.5rem;
      align-items: center;
    }

    .quick-actions {
      width: 100%;
      justify-content: center;
    }

    .action-btn {
      flex: 1;
      justify-content: center;
    }

    .avatar-container {
      width: 100px;
      height: 100px;
    }

    .user-name {
      font-size: 1.5rem;
    }
  }
</style>
